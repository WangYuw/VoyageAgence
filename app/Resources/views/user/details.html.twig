{% extends 'user.html.twig' %}
{% block body %}
    	
	<div class="circuit">
    	<h2>
       		{{ circuit.description }}
       	</h2>
    	
    	<h3>Détails</h3>
		<div class="circuit_details">
		
			<p>Description: {{ circuit.description }}</p>
			
			<p>Départ de {{ circuit.villeDepart }} pour {{ circuit.dureeCircuit }} j. de voyage à travers le {{ circuit.paysDepart }}, pour terminer à {{ circuit.villeArrivee }}.</p>
			
			<h3>Étapes</h3>
		 	<table>
		 		<thead>
					<tr>
				    	<th>Numéro</th>
						<th>Ville</th>
						<th>Nombre jours</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
 			{% for etape in circuit.etapes %}
	 		<tr>
			   <td>{{ etape.numeroEtape }} 	 <a href="{{ path("etape_edit", { 'id': etape.id }) }}" class="btn btn-default">Edit</a>
				           					 <a href="{{ path("etape_delete", { 'id': etape.id })}}" class="btn btn-danger">Delete</a></td>
			   <td>{{ etape.villeEtape }}    <a href="{{ path("etape_edit", { 'id': etape.id }) }}" class="btn btn-default">Edit</a>
				           					 <a href="{{ path("etape_delete", { 'id': etape.id })}}" class="btn btn-danger">Delete</a></td></td> 
			   <td>{{ etape.nombreJours }} j.<a href="{{ path("etape_edit", { 'id': etape.id }) }}" class="btn btn-default">Edit</a>
				           					 <a href="{{ path("etape_delete", { 'id': etape.id })}}" class="btn btn-danger">Delete</a></td></td>
			</tr>
			{% endfor %} {# circuit.etapes #}
			</tbody>
			</table>
		</div> {# circuit_details #}
		
		<div class="programmations">
		<h3>Programmations de ce circuit</h3>
		<table>
		 		<thead>
					<tr>
				    	<th>Date de départ</th>
						<th>Nombre de personnes</th>
						<th>Prix</th>
						<th></th>
					</tr>
				</thead>
		{%  for programmation in circuit.programmations %}
			<tr>
			   <td>{{ programmation.dateDepart|date('d-m-Y')  }}<a href="{{ path("programmation_edit", { 'id': etape.id }) }}" class="btn btn-default">Edit</a>
				           										<a href="{{ path("programmation_delete", { 'id': circuit.id })}}" class="btn btn-danger">Delete</a></td>
			   <td>{{ programmation.nombrePersonnes }}<a href="{{ path("programmation_edit", { 'id': etape.id }) }}" class="btn btn-default">Edit</a>
				           							  <a href="{{ path("programmation_delete", { 'id': circuit.id })}}" class="btn btn-danger">Delete</a></td> 
			   <td>{{ programmation.prix }} euros<a href="{{ path("programmation_edit", { 'id': etape.id }) }}" class="btn btn-default">Edit</a>
				           						 <a href="{{ path("programmation_delete", { 'id': circuit.id })}}" class="btn btn-danger">Delete</a></td>
			</tr>
		{% endfor %}
		</table>
	</div> 
    <ul>
        <li>
            <a href="{{ path('circuits_list') }}">Retour à la liste</a>
        </li>
    </ul>
	</div> 
    
{% endblock %}  